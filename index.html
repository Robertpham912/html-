<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸŒŸ Web cá»§a PhÃºc â€” A1 iOS26 Liquid Glass (Full Upgrade)</title>
  <link rel="icon" href="https://fav.farm/âœ¨" />
  <meta name="theme-color" content="#9bddff" />
  <style>
    :root{
      --bg1: #9bddff;
      --bg2: #b486f8;
      --bg3: #ff9ace;
      --glass-bg: rgba(255,255,255,0.10);
      --glass-border: rgba(255,255,255,0.18);
      --card-radius: 16px;
      --accent: #7d2ae8;
      --muted-dark: rgba(11,26,43,0.9);
      --glass-blur: 14px;
    }
    *{ box-sizing:border-box; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
    html,body{ height:100%; margin:0; font-family: Inter, "Segoe UI", Roboto, Arial; color:var(--muted-dark); background: #fff; }

    /* Gradient Ä‘á»™ng ná»n */
    body{
      min-height:100vh;
      display:flex; flex-direction:column; align-items:center; padding-top:84px;
      background: linear-gradient(120deg,var(--bg1),var(--bg2),var(--bg3));
      background-size:600% 600%; animation: gradientShift 20s linear infinite;
      perspective:1200px; /* cho parallax 3D */
    }
    @keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* HEADER GLASS */
    header.app-header{
      position:fixed; left:12px; right:12px; top:12px; height:64px; display:flex; align-items:center; gap:12px;
      padding:10px 14px; border-radius:14px; z-index:2000;
      background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
      border:1px solid rgba(255,255,255,0.18); backdrop-filter: blur(18px) saturate(120%);
      box-shadow: 0 10px 30px rgba(11,26,43,0.08);
      transform-style: preserve-3d;
    }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:700; color:rgba(255,255,255,0.95); text-shadow: 0 1px 0 rgba(0,0,0,0.12); }
    nav.nav-links{ display:flex; gap:10px; align-items:center; }
    nav.nav-links a{ color: rgba(255,255,255,0.95); text-decoration:none; padding:8px 10px; border-radius:10px; font-weight:600; transition: transform .18s ease, background .18s ease; }
    nav.nav-links a:hover{ transform:translateY(-3px); background: rgba(255,255,255,0.06); }

    /* Container grid */
    main.container{ width:100%; max-width:1150px; padding:22px; display:grid; grid-template-columns: 1fr 360px; gap:22px; align-items:start; z-index:100; }

    /* Card (frosted glass ultra) - 3 layers depth */
    .card{
      border-radius: var(--card-radius);
      padding:16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.12);
      backdrop-filter: blur(var(--glass-blur)) saturate(120%);
      box-shadow: 0 8px 30px rgba(11,26,43,0.08), inset 0 1px 0 rgba(255,255,255,0.02);
      transform-style: preserve-3d;
      transition: transform .25s cubic-bezier(.2,.9,.3,1), box-shadow .2s;
    }
    /* parallax card hover lift */
    .card[data-parallax="true"]:hover{ transform: translateZ(24px) rotateX(2deg) rotateY(-2deg); box-shadow: 0 18px 50px rgba(11,26,43,0.12); }

    .card h2{ margin:6px 0 12px; color:var(--muted-dark); }

    /* Buttons neon + liquid bounce */
    .btn{
      border-radius:12px; padding:10px 14px; cursor:pointer; border:none; font-weight:800; letter-spacing:0.2px;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      color:var(--muted-dark);
      box-shadow: 0 6px 20px rgba(125,42,232,0.08), 0 1px 0 rgba(255,255,255,0.02);
      transition: transform .18s cubic-bezier(.2,.8,.2,1), box-shadow .18s;
      will-change: transform;
    }
    /* Liquid bounce on press */
    .btn:active{ transform: scale(.96); box-shadow: 0 8px 28px rgba(125,42,232,0.12); }
    /* subtle glow on hover */
    .btn:hover{ transform: translateY(-4px); box-shadow: 0 18px 40px rgba(125,42,232,0.10); }

    /* Neon outline variant */
    .btn.neon{ box-shadow: 0 10px 34px rgba(125,42,232,0.12), 0 0 28px rgba(125,42,232,0.06); border:1px solid rgba(125,42,232,0.14); }

    /* slideshow */
    .slideshow{ width:100%; height:240px; border-radius:12px; overflow:hidden; position:relative; }
    .slideshow img{ width:100%; height:100%; object-fit:cover; transition:opacity .6s ease; display:block; }

    /* caro board stylized */
    table#caro-board{ border-collapse:collapse; margin:10px auto; width:240px; height:240px; }
    table#caro-board td{ width:33.33%; height:80px; text-align:center; font-size:30px; border-radius:8px; cursor:pointer;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      transition: transform .08s ease, box-shadow .12s ease;
    }
    table#caro-board td:hover{ transform: translateY(-6px); box-shadow: 0 12px 30px rgba(125,42,232,0.06); }

    /* secret modal visionOS */
    #secretGame{ display:none; position:fixed; inset:0; align-items:center; justify-content:center; z-index:4000; }
    #secretGame .panel{
      width:92%; max-width:640px; border-radius:14px; padding:14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
      backdrop-filter: blur(26px) saturate(130%); border:1px solid rgba(255,255,255,0.16);
      box-shadow: 0 30px 80px rgba(2,6,23,0.6), 0 6px 20px rgba(125,42,232,0.08);
      transform: translateZ(80px) scale(.98);
      transition: transform .36s cubic-bezier(.2,.9,.25,1), opacity .28s;
    }
    #secretGame.show .panel{ transform: translateZ(0) scale(1); }

    /* admin & dev panels styled as floating vision cards */
    .floating-panel{ width:320px; border-radius:12px; padding:12px; background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.12); backdrop-filter: blur(18px); box-shadow: 0 16px 48px rgba(2,6,23,0.5); }

    /* cookie */
    #cookie-banner{ position:fixed; bottom:12px; left:12px; right:12px; z-index:3000; }

    /* bubble */
    .bubble{ position:absolute; width:18px; height:18px; border-radius:50%; pointer-events:none; transform:translate(-50%,-50%); animation:bubbleUp 900ms ease-out forwards; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(255,255,255,0.15)); box-shadow: 0 8px 24px rgba(125,42,232,0.08); }
    @keyframes bubbleUp{ to{ transform:translate(-50%,-140%); opacity:0; } }

    /* responsive */
    @media (max-width:980px){
      main.container{ grid-template-columns: 1fr; padding:12px; }
      header.app-header{ left:8px; right:8px; }
      .floating-panel{ width:92%; }
    }

    /* prefers-reduced-motion fallback */
    @media (prefers-reduced-motion: reduce){
      * { animation: none !important; transition: none !important; }
    }

  </style>
</head>
<body>

  <!-- Header -->
  <header class="app-header" id="appHeader" data-parallax="true">
    <div class="brand"><div class="logo">ğŸŒŸ</div><div>Web cá»§a PhÃºc</div></div>
    <nav class="nav-links" aria-label="Äiá»u hÆ°á»›ng chÃ­nh">
      <a href="#gioi-thieu">Giá»›i thiá»‡u</a>
      <a href="#goc-hoc">Há»c láº­p trÃ¬nh</a>
      <a href="#game">Game</a>
      <a href="#gop-y">GÃ³p Ã½</a>
    </nav>
    <div class="top-controls">
      <button id="musicToggle" class="btn neon small">ğŸµ Nháº¡c</button>
      <button id="modeToggle" class="btn small">ğŸŒ— SÃ¡ng/Tá»‘i</button>
    </div>
  </header>

  <!-- Main container -->
  <main class="container">

    <div class="left-col">

      <section class="card" data-parallax="true">
        <h2 id="hero-title">ğŸ‰ Xin chÃ o! ÄÃ¢y lÃ  web Ä‘áº§u tiÃªn cá»§a mÃ¬nh!</h2>
        <p style="color:rgba(11,26,43,0.7);">Báº£n nÃ¢ng cáº¥p: Liquid Glass iOS26 â€” Parallax 3D + Frosted Glass Ultra + Liquid Buttons + VisionOS popup.</p>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn neon" id="openPacman">ğŸŸ¡ Má»Ÿ PAC-MAN</button>
          <button class="btn" id="openAdmin">âš™ï¸ Admin</button>
          <button class="btn" id="openDev">ğŸ§‘â€ğŸ’» Dev Mode</button>
        </div>
      </section>

      <section class="card center" data-parallax="true">
        <div style="font-weight:800; font-size:18px;">ğŸ‘ï¸ Sá»‘ lÆ°á»£t ghÃ© thÄƒm</div>
        <div style="font-size:36px; margin:8px 0;" id="visit-count">0</div>
        <div style="font-weight:700; margin-top:6px;">ğŸ•’ <span id="clock">--:--:--</span></div>
      </section>

      <section id="birthday" class="card" data-parallax="true">
        <h2>ğŸ‚ Äáº¿m ngÆ°á»£c Ä‘áº¿n sinh nháº­t</h2>
        <p id="birthday-countdown" style="font-weight:700;"></p>
      </section>

      <section class="card" data-parallax="true">
        <h2>ğŸ–¼ï¸ Bá»™ sÆ°u táº­p áº£nh</h2>
        <div class="slideshow" id="slideshow"><img src="https://picsum.photos/seed/1/1200/600" alt="slideshow"></div>
      </section>

      <section id="game" class="card" data-parallax="true">
       <h2>ğŸ² Game Caro & ğŸ”¢ ÄoÃ¡n sá»‘</h2>
<div style="display:flex; gap:18px; flex-wrap:wrap; justify-content:center; align-items:flex-start;">
  <div>
    <table id="caro-board"></table>
    <p id="caro-status" style="font-weight:700;"></p>
    <div style="text-align:center;">
      <button class="btn small" onclick="resetCaro()">ğŸ”„ ChÆ¡i láº¡i</button>
    </div>
  </div>

  <div style="min-width:220px;">
    <p>Tá»› nghÄ© 1 sá»‘ tá»« 1 Ä‘áº¿n 10. ÄoÃ¡n thá»­ nhÃ©!</p>
    <input id="guess-input" type="number" min="1" max="10"
      style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);" />

    <div style="margin-top:8px;">
      <button class="btn" onclick="checkGuess()">ÄoÃ¡n</button>
    </div>

    <p id="guess-result" style="font-weight:700;margin-top:8px;"></p>
  </div>
</div>
      <section id="mini-quiz" class="card" data-parallax="true">
        <h2>ğŸ§  Mini Quiz</h2>
        <p>Tháº» HTML nÃ o dÃ¹ng Ä‘á»ƒ táº¡o tiÃªu Ä‘á» lá»›n?</p>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn small" onclick="checkQuiz('a')">a) &lt;p&gt;</button>
          <button class="btn small" onclick="checkQuiz('b')">b) &lt;title&gt;</button>
          <button class="btn small" onclick="checkQuiz('c')">c) &lt;h1&gt;</button>
          <button class="btn small" onclick="checkQuiz('d')">d) &lt;div&gt;</button>
        </div>
        <p id="quiz-answer" style="font-weight:700;margin-top:10px;"></p>
      </section>

      <section class="card" data-parallax="true">
        <h2>ğŸ’» GÃ³c há»c láº­p trÃ¬nh</h2>
        <p><strong>Scratch</strong> - ngÃ´n ngá»¯ kÃ©o tháº£, ráº¥t phÃ¹ há»£p Ä‘á»ƒ báº¯t Ä‘áº§u.</p>
      </section>

      <section class="card" data-parallax="true">
        <h2>ğŸ¦ Tháº±n Láº±n CÃ¡ Sáº¥u</h2>
        <p>Chuyáº¿n thá»±c táº¿ táº¡i Tráº¡m Äa dáº¡ng Sinh há»c MÃª Linh...</p>
        <div style="text-align:center;">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Tribolonotus_gracilis.jpg/640px-Tribolonotus_gracilis.jpg" style="max-width:100%;border-radius:8px;" alt="than lan">
          <p><a href="https://www.facebook.com/Melinhbiodiversity/?locale=vi_VN" target="_blank">ğŸ”— Facebook Tráº¡m MÃª Linh</a></p>
        </div>
      </section>

      <section class="card" data-parallax="true">
        <h2>âœ‰ï¸ LiÃªn há»‡</h2>
        <form id="contactForm">
          <input name="name" placeholder="Há» tÃªn" required style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);" /><br><br>
          <input name="email" type="email" placeholder="Email" required style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);" /><br><br>
          <textarea name="message" placeholder="Ná»™i dung" required style="width:100%;height:100px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);"></textarea><br><br>
          <label>2 + 5 = ?</label><input id="captchaAnswer" type="number" required style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);" /><br><br>
          <button class="btn" type="submit">Gá»­i</button>
          <p id="contact-result" style="font-weight:700;margin-top:8px;"></p>
        </form>
      </section>

    </div>

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="card floating-panel">
        <h3 style="margin:0 0 8px 0;">ğŸ”” ThÃ´ng tin</h3>
        <p style="margin:0;color:rgba(11,26,43,0.75);">PhiÃªn báº£n: Liquid Glass A1 - Full</p>
        <p style="margin:8px 0 0 0;color:rgba(11,26,43,0.6);">Shift + P má»Ÿ PAC-MAN</p>
      </div>

      <div class="card center" style="display:flex;flex-direction:column;gap:8px;align-items:center;">
        <h3 style="margin:0;">ğŸµ Nháº¡c ná»n</h3>
        <button id="musicToggle2" class="btn small">â–¶ï¸ Báº­t/Táº¯t</button>
      </div>

      <div class="card floating-panel center">
        <h3 style="margin:0 0 8px 0;">ğŸ•’ Äá»“ng há»“</h3>
        <div id="clockSidebar" style="font-weight:700;font-size:18px;">--:--:--</div>
      </div>

    </aside>

  </main>

  <!-- SECRET PAC-MAN Modal (vision style) -->
  <div id="secretGame" aria-hidden="true">
    <div class="panel">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <h3 style="margin:0;color:rgba(11,26,43,0.85);">ğŸŸ¡ PAC-MAN BÃ­ máº­t</h3>
        <div>
          <button class="btn small" id="closePac">ÄÃ³ng</button>
        </div>
      </div>
      <iframe src="https://www.retrogames.cc/embed/24344-pac-man.html" width="100%" height="420" style="border:none;margin-top:8px;border-radius:8px;"></iframe>
    </div>
  </div>

  <!-- Admin Panel -->
  <div id="adminPanel" style="display:none; position:fixed; top:90px; right:18px; z-index:4500;">
    <div class="floating-panel">
      <h3>ğŸ› ï¸ Admin</h3>
      <label>ğŸŒˆ MÃ u ná»n: <input id="adminColor" type="color" value="#9bddff" /></label><br><br>
      <button class="btn small" id="closeAdmin">ÄÃ³ng</button>
      <button class="btn small" onclick="resetVisitCount()">ğŸ”„ Reset visits</button>
      <button class="btn small" onclick="runConfetti()">ğŸ‰ Confetti</button>
    </div>
  </div>

  <!-- Dev Panel -->
  <div id="devPanel" style="display:none; position:fixed; top:90px; left:18px; z-index:4500;">
    <div class="floating-panel">
      <h3>ğŸ’» Dev Mode</h3>
      <button class="btn small" id="closeDev">ÄÃ³ng</button><br><br>
      <button class="btn small" onclick="toggleInspector()">ğŸ” Live DOM Inspector</button><br><br>
      <textarea id="devCustomCSS" placeholder="/* CSS nhanh */" style="width:100%;height:80px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);"></textarea>
      <button class="btn small" onclick="applyDevCSS()">ğŸ’¾ Ãp dá»¥ng CSS</button>
      <div id="perfLog" style="margin-top:8px;color:rgba(11,26,43,0.6);"></div>
    </div>
  </div>

  <!-- Cookie banner -->
  <div id="cookie-banner" style="display:none; position:fixed; bottom:12px; left:12px; right:12px; z-index:4600;">
    <div class="card center" style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
      <div style="text-align:left;">ğŸª Trang web dÃ¹ng cookie Ä‘á»ƒ cáº£i thiá»‡n tráº£i nghiá»‡m.</div>
      <div><button class="btn small" onclick="acceptCookie()">Äá»“ng Ã½</button></div>
    </div>
  </div>

  <!-- Stars canvas -->
  <canvas id="stars" style="position:fixed;inset:0;z-index:0;pointer-events:none;"></canvas>

  <!-- Audio -->
  <audio id="bg-music" loop preload="auto">
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_4ab41ad859.mp3" type="audio/mpeg">
  </audio>

  <footer style="margin:40px 0 80px;color:rgba(11,26,43,0.7);text-align:center;">Â© Web cá»§a PhÃºc â€” Liquid Glass A1 Full â€” Made with â¤ï¸</footer>

<script>
(function(){
  const ADMIN_PASSWORD = "2015";
  const visitKey = "visitCount_v4";
  let isMusicPlaying = false;
  let randomNumber = Math.floor(Math.random()*10)+1;
  let inspectorEnabled = false;

  const qs = id => document.getElementById(id);
  const qsel = sel => document.querySelector(sel);

  /* Visit count */
  function updateVisitCount(){ let v = parseInt(localStorage.getItem(visitKey)||"0",10); v++; localStorage.setItem(visitKey,v); qs('visit-count').innerText = v; }
  window.resetVisitCount = function(){ localStorage.setItem(visitKey,"0"); qs('visit-count').innerText='0'; alert('âœ… ÄÃ£ reset'); };

  /* Clock */
  function updateClock(){ const now = new Date(); const t = now.toLocaleTimeString('vi-VN'); qs('clock').innerText=t; if(qs('clockSidebar')) qs('clockSidebar').innerText=t; }
  setInterval(updateClock,1000);

  /* Birthday */
  function updateBirthday(){ const now=new Date(); let b=new Date(now.getFullYear(),11,9); if(now>b) b.setFullYear(b.getFullYear()+1); const diff=b-now; const d=Math.floor(diff/(1000*60*60*24)); const h=Math.floor((diff/(1000*60*60))%24); const m=Math.floor((diff/(1000*60))%60); const s=Math.floor((diff/1000)%60); qs('birthday-countdown').innerText=`ğŸ‰ CÃ²n ${d} ngÃ y ${h} giá» ${m} phÃºt ${s} giÃ¢y ná»¯a!`; }
  setInterval(updateBirthday,1000);

  /* Slideshow */
  let slideIndex=1;
  function startSlideshow(){ const el=qsel('#slideshow img'); setInterval(()=>{ slideIndex++; el.style.opacity=0; setTimeout(()=>{ el.src=`https://picsum.photos/seed/${slideIndex}/1200/600`; el.style.opacity=1; },300); },3800); }

  /* Bubble */
  function createBubble(e){ if(e.target.closest('button')||e.target.closest('a')||e.target.closest('input')||e.target.closest('textarea')) return; const b=document.createElement('span'); b.className='bubble'; b.style.left=e.clientX+'px'; b.style.top=e.clientY+'px'; document.body.appendChild(b); setTimeout(()=>b.remove(),900); }
  document.addEventListener('click', createBubble);

  /* Stars */
  const canvas=qs('stars'); const ctx=canvas.getContext('2d'); let w=canvas.width=innerWidth; let h=canvas.height=innerHeight; const stars=[]; for(let i=0;i<120;i++) stars.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*1.2,vx:-0.4+Math.random()*0.8,vy:-0.4+Math.random()*0.8}); function drawStars(){ ctx.clearRect(0,0,w,h); ctx.fillStyle='rgba(255,255,255,0.9)'; ctx.beginPath(); for(const s of stars){ ctx.moveTo(s.x,s.y); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); } ctx.fill(); for(const s of stars){ s.x+=s.vx; s.y+=s.vy; if(s.x<0) s.x=w; if(s.x>w) s.x=0; if(s.y<0) s.y=h; if(s.y>h) s.y=0; } } setInterval(drawStars,60); addEventListener('resize',()=>{ w=canvas.width=innerWidth; h=canvas.height=innerHeight; });

  /* Music */
  const music = qs('bg-music');
  function toggleMusic(){ if(!music) return; if(isMusicPlaying){ music.pause(); qs('musicToggle').innerText='ğŸµ Nháº¡c'; qs('musicToggle2').innerText='â–¶ï¸ Báº­t/Táº¯t'; } else { music.play().catch(()=>{}); qs('musicToggle').innerText='ğŸ”‡ Táº¯t'; qs('musicToggle2').innerText='ğŸ”ˆ Táº¯t'; } isMusicPlaying=!isMusicPlaying; }
  qs('musicToggle').addEventListener('click', toggleMusic); qs('musicToggle2').addEventListener('click', toggleMusic);

  /* Caro */
  const caroEl = qs('caro-board'); const caroStatus = qs('caro-status'); let caroCells = Array(3).fill().map(()=>Array(3).fill('')); let caroCurrent = 'âŒ';
  function renderCaro(){ caroEl.innerHTML=''; for(let i=0;i<3;i++){ const tr=document.createElement('tr'); for(let j=0;j<3;j++){ const td=document.createElement('td'); td.textContent=caroCells[i][j]; td.onclick=()=>handleCaro(i,j); tr.appendChild(td);} caroEl.appendChild(tr);} }
  function handleCaro(i,j){ if(caroCells[i][j] !== '') return; caroCells[i][j]=caroCurrent; if(checkWin(caroCurrent)){ caroStatus.textContent = caroCurrent + ' tháº¯ng rá»“i!'; setTimeout(resetCaro,1200);} else { caroCurrent = (caroCurrent==='âŒ') ? 'â­•' : 'âŒ'; renderCaro(); } }
  function checkWin(p){ for(let i=0;i<3;i++){ if(caroCells[i][0]===p && caroCells[i][1]===p && caroCells[i][2]===p) return true; if(caroCells[0][i]===p && caroCells[1][i]===p && caroCells[2][i]===p) return true; } if(caroCells[0][0]===p && caroCells[1][1]===p && caroCells[2][2]===p) return true; if(caroCells[0][2]===p && caroCells[1][1]===p && caroCells[2][0]===p) return true; return false; }
  window.resetCaro = function(){ caroCells = Array(3).fill().map(()=>Array(3).fill('')); caroCurrent='âŒ'; caroStatus.textContent=''; renderCaro(); };

  /* Guess */
  window.checkGuess = function(){ const v=parseInt(qs('guess-input').value,10); const out=qs('guess-result'); if(v===randomNumber){ out.textContent='ğŸ‰ ChÃ­nh xÃ¡c!'; randomNumber=Math.floor(Math.random()*10)+1; } else out.textContent='âŒ Sai rá»“i! Thá»­ láº¡i nhÃ©!'; };

  /* Quiz */
  window.checkQuiz = function(ans){ const out=qs('quiz-answer'); if(ans==='c') out.textContent='âœ… ChÃ­nh xÃ¡c!'; else out.innerHTML='âŒ Sai rá»“i. ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : &lt;h1&gt;'; };

  /* Contact */
  qs('contactForm').addEventListener('submit', function(e){ e.preventDefault(); const ans=parseInt(qs('captchaAnswer').value,10); const out=qs('contact-result'); if(ans===7){ out.style.color='green'; out.textContent='âœ” Gá»­i thÃ nh cÃ´ng!'; } else { out.style.color='red'; out.textContent='âŒ Sai captcha!'; } });

  /* Secret PAC-MAN open */
  qs('openPacman').addEventListener('click', ()=> { qs('secretGame').style.display='flex'; qs('secretGame').classList.add('show'); qs('secretGame').setAttribute('aria-hidden','false'); });
  qs('closePac').addEventListener('click', ()=> { qs('secretGame').style.display='none'; qs('secretGame').classList.remove('show'); qs('secretGame').setAttribute('aria-hidden','true'); });
  document.addEventListener('keydown', (e)=> { if(e.shiftKey && e.key.toLowerCase()==='p'){ qs('secretGame').style.display='flex'; qs('secretGame').classList.add('show'); } });

  /* Admin & Dev open */
  qs('openAdmin').addEventListener('click', ()=> qs('adminPanel').style.display='block');
  qs('closeAdmin').addEventListener('click', ()=> qs('adminPanel').style.display='none');
  qs('openDev').addEventListener('click', ()=> qs('devPanel').style.display='block');
  qs('closeDev').addEventListener('click', ()=> qs('devPanel').style.display='none');

  /* Dev inspector */
  window.toggleInspector = function(){ inspectorEnabled = !inspectorEnabled; if(inspectorEnabled){ document.body.style.cursor='crosshair'; alert('ğŸ” Click pháº§n tá»­ Ä‘á»ƒ xem info'); document.addEventListener('click', inspectEl, true); } else { document.body.style.cursor='default'; document.removeEventListener('click', inspectEl, true); } };
  function inspectEl(e){ e.preventDefault(); e.stopPropagation(); const el=e.target; const css=window.getComputedStyle(el); alert('HTML: '+el.tagName.toLowerCase() + (el.id?('#'+el.id):'') + (el.className?(' .'+el.className.split(' ').join('.')):'') + '\n\ncolor: '+css.color+'\nfont-size: '+css.fontSize+'\nbackground: '+css.background); toggleInspector(); }

  window.applyDevCSS = function(){ const css=qs('devCustomCSS').value; if(!css.trim()){ alert('Nháº­p CSS Ä‘á»ƒ Ã¡p dá»¥ng'); return; } const s=document.createElement('style'); s.textContent=css; document.head.appendChild(s); alert('âœ… CSS Ä‘Ã£ Ã¡p dá»¥ng'); };

  /* Confetti */
  window.runConfetti = function(){ const end=Date.now()+2000; (function frame(){ const el=document.createElement('div'); el.textContent='âœ¨'; el.style.position='fixed'; el.style.left = Math.random()*100+'vw'; el.style.top='-10px'; el.style.fontSize=(12+Math.random()*30)+'px'; el.style.pointerEvents='none'; document.body.appendChild(el); let y=-10; const id=setInterval(()=>{ y+=6; el.style.top=y+'px'; if(y>window.innerHeight){ clearInterval(id); el.remove(); } },20); if(Date.now()<end) requestAnimationFrame(frame); })(); };

  /* Cookie */
  window.acceptCookie = function(){ localStorage.setItem('cookiesAccepted','true'); qs('cookie-banner').style.display='none'; };
  window.addEventListener('load', function(){ if(!localStorage.getItem('cookiesAccepted')) qs('cookie-banner').style.display='block'; });

  /* Parallax 3D - mouse & device */
  (function enableParallax(){
    const parallaxTargets = document.querySelectorAll('[data-parallax="true"]');
    let supportsDevice = 'DeviceOrientationEvent' in window;
    function applyTilt(el, tiltX, tiltY){
      const max = 12; const rx = (tiltY/max)*12; const ry = (tiltX/max)*-12;
      el.style.transform = `translateZ(16px) rotateX(${rx}deg) rotateY(${ry}deg)`;
    }
    // mouse move
    document.addEventListener('mousemove', (e)=>{
      const cx = innerWidth/2, cy = innerHeight/2;
      const tiltX = (e.clientX - cx) / cx; const tiltY = (e.clientY - cy) / cy;
      parallaxTargets.forEach(el => {
        const depth = 18;
        const rx = tiltY * depth;
        const ry = tiltX * -depth;
        el.style.transform = `translateZ(${depth}px) rotateX(${rx}deg) rotateY(${ry}deg)`;
      });
    });
    // device orientation fallback
    if(supportsDevice){
      window.addEventListener('deviceorientation', (ev)=>{
        const tiltX = ev.gamma || 0; const tiltY = ev.beta || 0;
        parallaxTargets.forEach(el => {
          const rx = Math.max(Math.min(tiltY/3,12),-12);
          const ry = Math.max(Math.min(tiltX/3,12),-12);
          el.style.transform = `translateZ(16px) rotateX(${rx}deg) rotateY(${ry}deg)`;
        });
      });
    }
  })();

  /* Init */
  function init(){
    updateVisitCount(); updateClock(); updateBirthday(); startSlideshow(); renderCaro(); updateClock();
  }
  if(document.readyState==='loading') document.addEventListener('DOMContentLoaded', init); else init();

})();
</script>

</body>
</html>
